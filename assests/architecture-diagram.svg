<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 1000 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1000" height="700" fill="#f8f9fa" rx="10" ry="10"/>
  
  <!-- Title -->
  <text x="500" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" text-anchor="middle" fill="#333">System Architecture – DocuChat AI</text>
  
  <!-- Legend -->
  <rect x="800" y="70" width="20" height="10" fill="#4285f4" rx="2" ry="2"/>
  <text x="830" y="80" font-family="Arial, sans-serif" font-size="14" fill="#333">Data Flow</text>
  
  <rect x="800" y="90" width="20" height="10" fill="#fbbc05" rx="2" ry="2"/>
  <text x="830" y="100" font-family="Arial, sans-serif" font-size="14" fill="#333">API Calls</text>
  
  <rect x="800" y="110" width="20" height="10" fill="#34a853" rx="2" ry="2"/>
  <text x="830" y="120" font-family="Arial, sans-serif" font-size="14" fill="#333">Internal Processing</text>
  
  <rect x="800" y="130" width="20" height="20" fill="#d1e5ff" stroke="#4285f4" stroke-width="2" rx="4" ry="4"/>
  <text x="830" y="145" font-family="Arial, sans-serif" font-size="14" fill="#333">Frontend Components</text>
  
  <rect x="800" y="160" width="20" height="20" fill="#e6f4ea" stroke="#34a853" stroke-width="2" rx="4" ry="4"/>
  <text x="830" y="175" font-family="Arial, sans-serif" font-size="14" fill="#333">Backend Components</text>
  
  <rect x="800" y="190" width="20" height="20" fill="#fff0c5" stroke="#fbbc05" stroke-width="2" rx="4" ry="4"/>
  <text x="830" y="205" font-family="Arial, sans-serif" font-size="14" fill="#333">External Services</text>
  
  <!-- Main Containers -->
  <!-- Frontend Container -->
  <rect x="50" y="100" width="240" height="250" fill="#d1e5ff" stroke="#4285f4" stroke-width="3" rx="10" ry="10"/>
  <text x="170" y="130" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Frontend</text>
  <text x="170" y="155" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#555">React + Next.js</text>
  <text x="170" y="175" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">(Port 3000)</text>
  
  <!-- Backend Container -->
  <rect x="380" y="100" width="280" height="450" fill="#e6f4ea" stroke="#34a853" stroke-width="3" rx="10" ry="10"/>
  <text x="520" y="130" font-family="Arial, sans-serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#333">Backend</text>
  <text x="520" y="155" font-family="Arial, sans-serif" font-size="16" text-anchor="middle" fill="#555">FastAPI</text>
  <text x="520" y="175" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">(Port 8000)</text>
  
  <!-- External Components -->
  <rect x="750" y="250" width="200" height="100" fill="#fff0c5" stroke="#fbbc05" stroke-width="3" rx="10" ry="10"/>
  <text x="850" y="280" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Gemini Pro LLM</text>
  <text x="850" y="305" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">Google Generative AI</text>
  <text x="850" y="325" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">langchain-google-genai</text>
  
  <rect x="750" y="380" width="200" height="100" fill="#fff0c5" stroke="#fbbc05" stroke-width="3" rx="10" ry="10"/>
  <text x="850" y="410" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Gemini Embedding</text>
  <text x="850" y="435" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">Vector Embedding API</text>
  
  <!-- Vector Store -->
  <rect x="450" y="580" width="200" height="80" fill="#e6f4ea" stroke="#34a853" stroke-width="3" rx="10" ry="10"/>
  <text x="550" y="620" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">FAISS Vector DB</text>
  <text x="550" y="645" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">Embeddings + Metadata</text>
  
  <!-- Frontend Components -->
  <rect x="70" y="200" width="90" height="60" fill="white" stroke="#4285f4" stroke-width="2" rx="5" ry="5"/>
  <text x="115" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Upload Form</text>
  
  <rect x="180" y="200" width="90" height="60" fill="white" stroke="#4285f4" stroke-width="2" rx="5" ry="5"/>
  <text x="225" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Chat Interface</text>
  
  <!-- Backend API Endpoints -->
  <rect x="400" y="200" width="110" height="60" fill="white" stroke="#34a853" stroke-width="2" rx="5" ry="5"/>
  <text x="455" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">/api/upload</text>
  
  <rect x="530" y="200" width="110" height="60" fill="white" stroke="#34a853" stroke-width="2" rx="5" ry="5"/>
  <text x="585" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">/api/chat</text>
  
  <!-- Backend Processing Components -->
  <rect x="400" y="290" width="110" height="220" fill="white" stroke="#34a853" stroke-width="2" rx="5" ry="5"/>
  <text x="455" y="315" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Document Processing</text>
  
  <rect x="410" y="325" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="455" y="345" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">PDF Extraction</text>
  
  <rect x="410" y="365" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="455" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Text Chunking</text>
  
  <rect x="410" y="405" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="455" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Embedding</text>
  
  <rect x="410" y="445" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="455" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Store Vectors</text>
  
  <rect x="530" y="290" width="110" height="220" fill="white" stroke="#34a853" stroke-width="2" rx="5" ry="5"/>
  <text x="585" y="315" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333">Query Processing</text>
  
  <rect x="540" y="325" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="585" y="345" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Question Processing</text>
  
  <rect x="540" y="365" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="585" y="385" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Vector Retrieval</text>
  
  <rect x="540" y="405" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="585" y="425" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Prompt Creation</text>
  
  <rect x="540" y="445" width="90" height="30" fill="#e6f4ea" stroke="#34a853" stroke-width="1" rx="3" ry="3"/>
  <text x="585" y="465" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333">Answer Generation</text>
  
  <!-- Future Enhancements Box -->
  <rect x="160" y="580" width="240" height="80" fill="#f5f5f5" stroke="#666" stroke-width="2" stroke-dasharray="5,5" rx="10" ry="10"/>
  <text x="280" y="605" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Future Enhancements</text>
  <text x="280" y="625" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• Supabase/PostgreSQL for chat history</text>
  <text x="280" y="645" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• PaddleOCR for image processing</text>
  <text x="280" y="665" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• Railway/Render hosting</text>
  
  <!-- Docker Environment Box -->
  <rect x="50" y="380" width="240" height="180" fill="#ebf3fe" stroke="#4285f4" stroke-width="2" stroke-dasharray="3,3" rx="10" ry="10"/>
  <text x="170" y="405" font-family="Arial, sans-serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Docker Environment</text>
  <text x="170" y="430" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#555">docker-compose.yml</text>
  
  <rect x="70" y="445" width="90" height="40" fill="white" stroke="#4285f4" stroke-width="1" rx="5" ry="5"/>
  <text x="115" y="470" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Frontend Container</text>
  
  <rect x="180" y="445" width="90" height="40" fill="white" stroke="#34a853" stroke-width="1" rx="5" ry="5"/>
  <text x="225" y="470" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Backend Container</text>
  
  <text x="170" y="505" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• Shared development environment</text>
  <text x="170" y="525" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• Mounted volumes for code sync</text>
  <text x="170" y="545" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#555">• .env for API keys</text>
  
  <!-- Connections and Arrows -->
  <!-- PDF Upload Flow -->
  <path d="M160 230 L280 230 L400 230" stroke="#4285f4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="280" y="220" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#4285f4">1. Upload PDF</text>
  
  <!-- Document Processing Flow -->
  <path d="M455 260 L455 290" stroke="#34a853" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Embedding API Call -->
  <path d="M500 420 L730 420 L750 420" stroke="#fbbc05" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="640" y="410" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#fbbc05">Generate Embeddings</text>
  
  <!-- Store in FAISS -->
  <path d="M455 510 L455 580 L500 580" stroke="#34a853" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="455" y="540" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#34a853">Store</text>
  
  <!-- Chat Question Flow -->
  <path d="M225 260 L380 260 L530 230" stroke="#4285f4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="280" y="280" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#4285f4">2. Ask Question</text>
  
  <!-- Vector Retrieval from FAISS -->
  <path d="M585 395 L650 395 L650 620 L650 620" stroke="#34a853" stroke-width="3" fill="none"/>
  <path d="M650 620 L550 620" stroke="#34a853" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="660" y="500" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#34a853">Retrieve</text>
  
  <!-- LLM API Call -->
  <path d="M630 420 L730 300 L750 300" stroke="#fbbc05" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="700" y="340" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#fbbc05">Generate Answer</text>
  
  <!-- Answer Return -->
  <path d="M530 260 L300 260 L225 260" stroke="#4285f4" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  <text x="370" y="280" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#4285f4">3. Return Answer</text>
  
  <!-- Defs for Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>
</svg>